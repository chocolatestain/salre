<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.salre.main.product">

    <insert id="insert" parameterType="productVO">
        INSERT INTO product (product_id, user_id, region_id, product_name, payment_type, product_status, view_count, address, address_detail, deposit, rentfee, area, product_type, floor, enter_day, room_count, bath_count, approve_day, park_count, manage_fee, direction)
        VALUES (#{product_id}, #{user_id}, #{region_id}, #{product_name}, #{payment_type}, #{product_status}, #{view_count}, #{address}, #{address_detail}, #{deposit}, #{rentfee}, #{area}, #{product_type}, #{floor}, #{enter_day}, #{room_count}, #{bath_count}, #{approve_day}, #{park_count}, #{manage_fee}, #{direction})
    </insert>

    <update id="updateProduct" parameterType="productVO">
        UPDATE product SET product_name=#{product_name}, payment_type=#{payment_type}, product_status=#{product_status}, view_count=#{view_count}, address=#{address}, address_detail=#{address_detail}, deposit=#{deposit}, rentfee=#{rentfee}, area=#{area}, product_type=#{product_type}, floor=#{floor}, enter_day=#{enter_day}, room_count=#{room_count}, bath_count=#{bath_count}, approve_day=#{approve_day}, park_count=#{park_count}, manage_fee=#{manage_fee}, direction=#{direction} WHERE product_id=#{product_id}
    </update>

    <delete id="deleteProduct" parameterType="int">
        DELETE FROM product WHERE product_id=#{product_id}
    </delete>

    <select id="getProductById" parameterType="int" resultType="productVO">
        SELECT * FROM product WHERE product_id=#{product_id}
    </select>

    <select id="selectAllProducts" resultType="productVO">
        SELECT * FROM product
    </select> 
    <select id="searchProductsByKeyword" parameterType="string" resultType="com.salre.main.product.ProductDTO">
	    SELECT *
	    FROM product
	    WHERE product_name LIKE CONCAT('%', #{keyword}, '%')
	       OR address LIKE CONCAT('%', #{keyword}, '%')
	</select>
</mapper>
